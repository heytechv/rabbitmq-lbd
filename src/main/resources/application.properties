# -- General --
logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG

# -- Configuration of Kafka --
# https://www.youtube.com/watch?v=q3zo3YREfJI
# https://github.com/maciejwalkowiak/spring-cloud-stream-binder-sqs/blob/master/spring-cloud-stream-binder-sqs-samples/simple-producer/src/main/resources/application.yml

spring.kafka.producer.bootstrap-servers=localhost:9092
spring.kafka.consumer.bootstrap-servers=localhost:9092

# -- My namespace --
config.sqs.userTopic=userTopic

config.sqs.articleTopic=articleTopic

config.sqs.commentTopic=commentTopic

# -- Configuration of functions --
spring.cloud.function.definition=userExchange;articleExchange;commentExchange

# -- Queues + function binding --
#snsFanout must be if we want to send/receive String, not sqs some weird format ?
spring.cloud.stream.sqs.bindings.userExchange-in-0.consumer.snsFanout=false
spring.cloud.stream.bindings.userExchange-in-0.destination=${config.sqs.userTopic}
spring.cloud.stream.bindings.userExchange-out-0.destination=${config.sqs.userTopic}

spring.cloud.stream.sqs.bindings.articleExchange-in-0.consumer.snsFanout=false
spring.cloud.stream.bindings.articleExchange-in-0.destination=${config.sqs.articleTopic}
spring.cloud.stream.bindings.articleExchange-out-0.destination=${config.sqs.articleTopic}

spring.cloud.stream.sqs.bindings.commentExchange-in-0.consumer.snsFanout=false
spring.cloud.stream.bindings.commentExchange-in-0.destination=${config.sqs.commentTopic}
spring.cloud.stream.bindings.commentExchange-out-0.destination=${config.sqs.commentTopic}
